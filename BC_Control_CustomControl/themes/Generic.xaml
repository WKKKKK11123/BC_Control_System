<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ScottPlot="clr-namespace:ScottPlot.WPF;assembly=ScottPlot.WPF"
    xmlns:local="clr-namespace:BC_Control_CustomControl">

    <Style TargetType="{x:Type local:CustomControl1}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:CustomControl1}">
                    <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type local:UserPlotControl}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:UserPlotControl}">
                    <Border Background="LightGray">
                        <!--  控件布局  -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="4*" />
                                <ColumnDefinition Width="1*" />
                            </Grid.ColumnDefinitions>
                            <ScottPlot:WpfPlot
                                x:Name="PART_Plot"
                                Grid.Column="0"
                                Margin="20" />
                            <DockPanel Grid.Column="1" Margin="8,0,10,0">
                                <Button
                                    x:Name="PART_RefreshButton"
                                    Grid.Row="0"
                                    Margin="10,20,10,0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    BorderBrush="Black"
                                    BorderThickness="1"
                                    Command="{TemplateBinding RefreshCommand}"
                                    Content="Update"
                                    DockPanel.Dock="Top" />
                                <StackPanel
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    Orientation="Horizontal">
                                    <ItemsControl x:Name="CheckBoxList" ItemsSource="{TemplateBinding CheckList}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <DockPanel HorizontalAlignment="Stretch" LastChildFill="True">
                                                    <CheckBox
                                                        Width="150"
                                                        Margin="0,10,10,0"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        BorderBrush="Black"
                                                        Content="{Binding Description}"
                                                        DockPanel.Dock="Left"
                                                        FontSize="12"
                                                        Foreground="Black"
                                                        IsChecked="{Binding IsChecked}" />
                                                    <Border
                                                        Width="12"
                                                        Height="12"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Background="{Binding BackColor}"
                                                        DockPanel.Dock="Bottom" />
                                                </DockPanel>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>

                                </StackPanel>
                            </DockPanel>
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type local:WTRRobot}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Width" Value="50" />
        <Setter Property="Height" Value="70" />
        <Setter Property="RenderTransformOrigin" Value="0.5,0.5" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:WTRRobot">
                    <Border Width="400" BorderBrush="Black">
                        <Rectangle
                            Width="50"
                            Height="50"
                            HorizontalAlignment="Left"
                            Fill="Blue">
                            <Rectangle.RenderTransform>
                                <TranslateTransform x:Name="MyAnimatedTranslateTransform" X="0" Y="0" />
                            </Rectangle.RenderTransform>
                            <Rectangle.Triggers>
                                <EventTrigger RoutedEvent="Rectangle.MouseLeftButtonDown">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames
                                                Storyboard.TargetName="MyAnimatedTranslateTransform"
                                                Storyboard.TargetProperty="X"
                                                Duration="0:0:4">
                                                <LinearDoubleKeyFrame KeyTime="0:0:3" Value="{Binding ToProperty}" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Rectangle.Triggers>
                        </Rectangle>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type local:BoolStateControl}" />
    <Style x:Key="HeaterStyle" TargetType="ContentControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ContentControl">
                    <Viewbox Stretch="Fill">
                        <Canvas Width="60" Height="60">
                            <!--  修复第一个Path  -->
                            <Path
                                x:Name="SwitchPath"
                                Canvas.Left="61"
                                Canvas.Top="0.333"
                                Width="61"
                                Height="57"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Fill="{Binding Background, RelativeSource={RelativeSource TemplatedParent}}"
                                Stretch="Fill"
                                Stroke="Black">
                                <!--  移除或调整有问题的变换  -->
                                <Path.RenderTransform>
                                    <TransformGroup>
                                        <!--  只保留翻转，移除平移  -->
                                        <ScaleTransform ScaleX="-1" />
                                    </TransformGroup>
                                </Path.RenderTransform>
                                <Path.Data>
                                    <PathGeometry Figures="M15,0.5 C22.731987,0.5 29.5,5.4248676 29.5,11.5 L29.5,11.5 29.5,56.5 0.5,56.5 0.5,11.5 0.47916643,11.5 C0.47916643,5.4248676 7.2680132,0.5 15,0.5 z" />
                                </Path.Data>
                            </Path>

                            <!--  修复第二个Path  -->
                            <Path
                                x:Name="SwitchPath1"
                                Canvas.Left="5"
                                Canvas.Top="10"
                                Width="51"
                                Height="40"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Center"
                                Fill="{Binding Background, RelativeSource={RelativeSource TemplatedParent}}"
                                Stretch="Fill"
                                Stroke="Black"
                                StrokeThickness="1">
                                <!--  明确设置线条粗细  -->
                                <Path.Data>
                                    <PathGeometry>
                                        <PathFigure IsClosed="False" StartPoint="10,5">
                                            <!--  调整起点  -->
                                            <LineSegment Point="2,8" />
                                            <LineSegment Point="12,12" />
                                            <LineSegment Point="2,16" />
                                            <LineSegment Point="12,20" />
                                            <LineSegment Point="2,24" />
                                            <LineSegment Point="12,28" />
                                            <LineSegment Point="2,32" />
                                            <LineSegment Point="12,36" />
                                            <LineSegment Point="5,40" />
                                        </PathFigure>
                                    </PathGeometry>
                                </Path.Data>
                            </Path>
                        </Canvas>
                    </Viewbox>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
